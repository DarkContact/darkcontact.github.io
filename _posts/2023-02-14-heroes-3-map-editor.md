Решил я как-то открыть редактор Героев 3, попробовать свои силы в дизайне карт. И обнаружил неприятную особенность, в некоторых диалоговых окнах часть данных просто отрезается, так что её нельзя посмотреть и отредактировать.

#### Сломанный экран гарнизона  
![Garrison Broken](/assets/images/blog/2023-02-14-heroes-3-map-editor/GarrisonBroken.png)

 Оговорюсь что у меня Windows 10, но проблема возможна на любой версии системы Windows и в любых достаточно старых программах.

После пары часов гугления выяснилось, что вероятнее всего проблема в том что в системе либо отсутствует, либо повреждён системный шрифт. Чтобы в этой убедиться достаточно попробовать открыть шрифт `MS Sans Serif` (не путать с `Microsoft Sans Serif`), обычно он хранится в `C:\Windows\Fonts`. Если в просмотрщике шрифтов написано, `Font name: Arial`, поздравляю - у вас такая же проблема.

Как одно из возможных решений проблемы, мы можем добавить запись в реестр чтобы шрифт `MS Sans Serif` воспринимался как `Tahoma`. Файл реестра для решения проблемы со шрифтом:
[change_font_for_legacy_apps.reg](/assets/files/blog/2023-02-14-heroes-3-map-editor/change_font_for_legacy_apps.reg)

Если что-то пошло не так или вы хотите восстановить изменения, то вот другой файл реестра:
[restore_font_for_legacy_apps.reg](/assets/files/blog/2023-02-14-heroes-3-map-editor/restore_font_for_legacy_apps.reg)

После добавления записи в реестр и перезагрузки компьютера, мы наконец-то сможем насладиться корретными диалоговыми окнами в редакторе.

#### Исправленный экран гарнизона  
![Garrison Fixed](/assets/images/blog/2023-02-14-heroes-3-map-editor/GarrisonFixed.png)


#### Более подробное описание проблемы и решения
https://superuser.com/questions/84045/windows-default-font-messed-up-but-not-everywhere